(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{507:function(t,e,n){var content=n(514);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("7fd56a46",content,!0,{sourceMap:!1})},508:function(t,e,n){var content=n(516);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("4e15c4d2",content,!0,{sourceMap:!1})},509:function(t,e,n){var content=n(518);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("f65596ce",content,!0,{sourceMap:!1})},510:function(t,e,n){var content=n(520);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("13aa003d",content,!0,{sourceMap:!1})},512:function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return f}));var r=function(t){return!!t||"Please provide some value"},o=function(t){return+t>0||"You have entered an invalid price"},c=function(t){return+t>0||"You have entered an invalid quantity"},l=function(t){return+t>=0||"You have entered an invalid number"};function d(t){return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.exec(t)||"Enter valid email"}function m(t){return void 0!==t&&t.length>=12&&t.length<=15||"Enter valid phone"}function f(t){return t.length>=8||"Enter at least 8 characters"}},513:function(t,e,n){"use strict";var r=n(507);n.n(r).a},514:function(t,e,n){(e=n(11)(!1)).push([t.i,".card[data-v-3f1472ea]{padding:20px!important}",""]),t.exports=e},515:function(t,e,n){"use strict";var r=n(508);n.n(r).a},516:function(t,e,n){(e=n(11)(!1)).push([t.i,".loading-dialog[data-v-5f9945f6]{padding:20px!important}.loading-dialog__message[data-v-5f9945f6]{font-size:18px!important;padding-left:15px!important;display:inline-block!important;font-family:google-sans,sans-serif!important}",""]),t.exports=e},517:function(t,e,n){"use strict";var r=n(509);n.n(r).a},518:function(t,e,n){(e=n(11)(!1)).push([t.i,".form{width:550px}.form__body{grid-template-columns:calc(50% - 10px) calc(50% - 10px)}@media(max-width:525px){.form__body{display:flex!important;flex-direction:column}}.span-2{grid-column:1/3!important}",""]),t.exports=e},519:function(t,e,n){"use strict";var r=n(510);n.n(r).a},520:function(t,e,n){(e=n(11)(!1)).push([t.i,".form[data-v-464b7779]{overflow:hidden!important;background:#fff!important;position:relative!important;border-radius:8px!important;padding:40px 40px 36px!important;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)!important}@media(max-width:525px){.form[data-v-464b7779]{box-shadow:none!important}}.form__loading[data-v-464b7779]{top:0!important;left:0!important;z-index:5!important;width:100%!important;height:100%!important;position:absolute!important;background:hsla(0,0%,100%,.8)!important}.form__header[data-v-464b7779]{color:#202124!important;text-align:center!important}.form__title[data-v-464b7779]{display:block!important;font-size:24px!important;line-height:32px!important;font-weight:400!important;padding-bottom:8px!important;font-family:google-sans,sans-serif!important}.form__message[data-v-464b7779]{display:block!important;font-size:16px!important;line-height:24px!important;letter-spacing:.1px!important;padding:0 70px 24px!important;font-family:Roboto,sans-serif!important}.form__body[data-v-464b7779]{display:grid;grid-column-gap:20px!important}.form__actions[data-v-464b7779]{display:flex!important;justify-content:flex-end!important}",""]),t.exports=e},521:function(t,e,n){"use strict";n(13),n(9),n(8),n(5),n(10),n(52);var r=n(4),o=n(14),c=n(159),l=Object(c.b)({name:"ErrorDialog",props:{error:{type:[Error,Object],default:null}},setup:function(t,e){var n=Object(c.e)(null);return Object(c.g)((function(){return t.error}),(function(){n.value=t.error})),Object(c.g)(n,(function(){null===n.value&&e.emit("close",!1)})),{localError:n}}}),d=(n(513),n(51)),m=n(68),f=n.n(m),h=n(523),v=n(753),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"400"},model:{value:t.localError,callback:function(e){t.localError=e},expression:"localError"}},[n("v-card",{staticClass:"card",attrs:{width:"400"}},[t._v("\n    "+t._s(t.error)+"\n  ")])],1)}),[],!1,null,"3f1472ea",null),y=component.exports;f()(component,{VCard:h.a,VDialog:v.a});var x=Object(c.b)({name:"LoadingDialog",model:{prop:"loading",event:"loading"},props:{loading:{type:Boolean,default:!1},message:{type:String,default:"Loading ..."}}}),_=(n(515),n(148)),j=Object(d.a)(x,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-dialog",{attrs:{width:"400",persistent:""}},[e("v-card",{staticClass:"loading-dialog",attrs:{width:"400"}},[e("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}),this._v(" "),e("span",{staticClass:"loading-dialog__message"},[this._v(this._s(this.message))])],1)],1)}),[],!1,null,"5f9945f6",null),w=j.exports;function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}f()(j,{VCard:h.a,VDialog:v.a,VProgressCircular:_.a});var S=Object(c.b)({name:"SimpleForm",components:{ErrorDialog:y,LoadingDialog:w},props:{title:{type:String,default:"Form Title"},message:{type:String,required:!1},method:{type:String,default:"post"},data:{type:[Object,Function],required:!0},endpoint:{type:String,required:!0},return:{type:Boolean,default:!1},clear:{type:Boolean,default:!0},showError:{type:Boolean,default:!0}},setup:function(t,e){var n=Object(c.e)(null),r=Object(c.d)({error:null,valid:!1,loading:!1});function l(){return(l=Object(o.a)(regeneratorRuntime.mark((function o(){var data,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r.loading=!0,o.prev=1,!(t.data instanceof Function)){o.next=8;break}return o.next=5,t.data();case 5:data=o.sent,o.next=9;break;case 8:data=t.data;case 9:if(null!==data){o.next=12;break}return t.showError&&(r.error="Provide valid data 'null' was provided",this.valid=!0),o.abrupt("return");case 12:c=null,o.t0=t.method.toLowerCase(),o.next="post"===o.t0?16:"patch"===o.t0?27:38;break;case 16:if(this.valid=!1,!(data instanceof FormData)){o.next=23;break}return o.next=20,e.root.$axios.post(t.endpoint,data,{headers:{"content-type":"multipart/form-data;"}});case 20:c=o.sent,o.next=26;break;case 23:return o.next=25,e.root.$axios.post(t.endpoint,data);case 25:c=o.sent;case 26:return o.abrupt("break",41);case 27:if(this.valid=!1,!(data instanceof FormData)){o.next=34;break}return o.next=31,e.root.$axios.patch(t.endpoint,data,{headers:{"content-type":"multipart/form-data;"}});case 31:c=o.sent,o.next=37;break;case 34:return o.next=36,e.root.$axios.patch(t.endpoint,data);case 36:c=o.sent;case 37:return o.abrupt("break",41);case 38:return r.error="Unknown METHOD was specified.",this.valid=!1,o.abrupt("return");case 41:c&&e.emit("response",c),t.return?e.root.$router.back():(e.emit("reset"),this.clear&&n.value.reset()),o.next=49;break;case 45:o.prev=45,o.t1=o.catch(1),this.valid=!0,r.error=o.t1;case 49:return o.prev=49,this.valid=!0,r.loading=!1,o.finish(49);case 53:case"end":return o.stop()}}),o,this,[[1,45,49,53]])})))).apply(this,arguments)}return O(O({myForm:n},Object(c.f)(r)),{},{trigger:function(){return l.apply(this,arguments)}})}}),$=(n(517),n(519),n(499)),T=n(533),C=Object(d.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"fit-content",margin:"0 0"}},[n("v-form",{ref:"myForm",staticClass:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t._t("header",[n("header",{staticClass:"form__header"},[t._t("logo"),t._v(" "),n("span",{staticClass:"form__title"},[t._v(t._s(t.title))]),t._v(" "),n("span",{staticClass:"form__message"},[t._v(t._s(t.message))])],2)]),t._v(" "),n("main",{staticClass:"form__body"},[t._t("default")],2),t._v(" "),t._t("actions",[n("footer",{staticClass:"form__actions"},[n("v-btn",{attrs:{color:"primary",elevation:"0",disabled:!t.valid},on:{click:t.trigger}},[t._v("\n          Submit\n        ")])],1)]),t._v(" "),n("error-dialog",{attrs:{error:t.error}}),t._v(" "),n("v-dialog",{attrs:{width:"400",persistent:""},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("v-card",{staticClass:"loading-dialog",staticStyle:{padding:"20px"},attrs:{width:"400"}},[n("v-progress-circular",{staticStyle:{"margin-right":"20px"},attrs:{indeterminate:"",color:"primary"}}),t._v(" "),n("span",{staticClass:"loading-dialog__message"},[t._v("Loading...")])],1)],1)],2)],1)}),[],!1,null,"464b7779",null);e.a=C.exports;f()(C,{VBtn:$.a,VCard:h.a,VDialog:v.a,VForm:T.a,VProgressCircular:_.a})},533:function(t,e,n){"use strict";n(13),n(9),n(10);var r=n(4),o=(n(99),n(8),n(5),n(128),n(34),n(37),n(6)),c=n(53),l=n(69);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(o.a)(c.a,Object(l.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(input._uid)||(n.valid=e(input)))})):n.valid=e(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:m({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},561:function(t,e,n){var content=n(611);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("b04690e8",content,!0,{sourceMap:!1})},562:function(t,e,n){var content=n(613);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("5c5e47e3",content,!0,{sourceMap:!1})},610:function(t,e,n){"use strict";var r=n(561);n.n(r).a},611:function(t,e,n){(e=n(11)(!1)).push([t.i,"",""]),t.exports=e},612:function(t,e,n){"use strict";var r=n(562);n.n(r).a},613:function(t,e,n){(e=n(11)(!1)).push([t.i,".entity-detail-main{height:82vh}.entity-detail-item{height:30%;margin-bottom:10px}.entity-detail-item,.entity-detail-item-detail{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:10px}.entity-detail-item-detail{height:calc(70% - 10px)}.entity-value{color:#bc282b}.form{width:100%}",""]),t.exports=e},614:function(t,e,n){var content=n(707);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("55622706",content,!0,{sourceMap:!1})},659:function(t,e,n){"use strict";n(47);var r=n(100),o=(n(52),n(14)),c=(n(354),{name:"ItemList",props:{createRoute:{type:String,default:null},updateRoute:{type:String,default:null},deleteRoute:{type:String,default:null},data:{type:Array,default:function(){return[]}},dataColumns:{type:Array,default:function(){return[]}},variant:{type:Boolean,default:!1}},data:function(){return{search:!1,searchText:"",error:"",showError:!1,branches:[],branchId:"-1"}},mounted:function(){this.getBranches()},methods:{closeSearch:function(){this.search=!this.search,this.searchText=""},getBranches:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=[{name:"All",id:"-1"}],e.t1=r.a,e.next=4,t.$axios.$get("/branch");case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),t.branches=e.t0.concat.call(e.t0,e.t3);case 7:case"end":return e.stop()}}),e)})))()},changeDetailItem:function(t){this.$emit("itemChange",t)},handleCreateEvent:function(){this.$router.push(this.createRoute)},handleUpdateEvent:function(t){this.$router.push(this.updateRoute.replace("$id",t.id))},removeItem:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.console.log(t),!confirm("Are you sure?")){n.next=6;break}return n.next=4,e.$axios.$delete(e.deleteRoute.replace("$id",t.id));case 4:(r=n.sent).error?(e.showError=!0,e.error=r.error):e.$emit("update");case 6:case"end":return n.stop()}}),n)})))()},filterProduct:function(t){this.$emit("filterItem",t)}}}),l=(n(610),n(51)),d=n(68),m=n.n(d),f=n(155),h=n(499),v=n(523),y=n(758),x=n(753),_=n(129),j=n(540),w=n(505),k=n(496),O=n(46),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"entity-list-main"},[n("v-data-table",{staticClass:"elevation-1 my-table",attrs:{height:t.variant||"Sub Admin"===t.$auth.user.type?"78vh":"68vh",headers:t.dataColumns,items:t.data,search:t.searchText,"disable-pagination":"","hide-default-footer":"",dense:""},on:{"click:row":t.changeDetailItem},scopedSlots:t._u([{key:"top",fn:function(){return[t.variant||"Sub Admin"===t.$auth.user.type?n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("div",{staticStyle:{width:"100%"}},[n("v-text-field",{attrs:{placeholder:"Search","prepend-inner-icon":"mdi-magnify",outlined:"","hide-details":"",dense:""},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)]):t._e(),t._v(" "),t.variant||"Main Admin"!==t.$auth.user.type?t._e():n("v-toolbar",{attrs:{flat:"",color:"white"}},[t.search?t._e():n("v-avatar",{attrs:{color:"rgba(233,233,233)",size:"40"},on:{click:function(e){t.search=!t.search}}},[n("v-icon",[t._v("mdi-magnify")])],1),t._v(" "),t.search?t._e():n("v-spacer"),t._v(" "),t.search?t._e():n("v-btn",{staticClass:"mb-2",staticStyle:{"margin-bottom":"0 !important"},attrs:{color:"primary",dark:"",elevation:"0"},on:{click:t.handleCreateEvent}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("New Item")],1),t._v(" "),t.search?n("div",{staticStyle:{width:"100%"}},[n("v-text-field",{attrs:{placeholder:"Search","prepend-inner-icon":"mdi-magnify","append-icon":"mdi-close-circle",outlined:"","hide-details":"",dense:""},on:{"click:append":t.closeSearch},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1):t._e()],1),t._v(" "),t.variant||"Main Admin"!==t.$auth.user.type?t._e():n("v-toolbar",{attrs:{flat:""}},[n("v-select",{attrs:{outlined:"",dense:"",items:t.branches,"item-text":"name","item-value":"id",placeholder:"Filter"},on:{change:function(e){t.filterProduct(e)}},model:{value:t.branchId,callback:function(e){t.branchId=e},expression:"branchId"}})],1)]},proxy:!0},t.variant?null:{key:"item.actions",fn:function(e){var r=e.item;return["Main Admin"===t.$auth.user.type?n("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleUpdateEvent(r)}}},[t._v("\n        mdi-pencil\n      ")]):t._e(),t._v(" "),"Main Admin"===t.$auth.user.type?n("v-icon",{attrs:{color:"red",small:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeItem(r)}}},[t._v("\n        mdi-delete\n      ")]):t._e()]}}],null,!0)}),t._v(" "),n("v-dialog",{staticStyle:{padding:"20px"},attrs:{width:"50%"},model:{value:t.showError,callback:function(e){t.showError=e},expression:"showError"}},[n("v-card",{staticStyle:{padding:"20px"}},[n("p",{staticStyle:{margin:"0"}},[t._v("Error: "+t._s(t.error))])])],1)],1)}),[],!1,null,"31cbbcce",null);e.a=component.exports;m()(component,{VAvatar:f.a,VBtn:h.a,VCard:v.a,VDataTable:y.a,VDialog:x.a,VIcon:_.a,VSelect:j.a,VSpacer:w.a,VTextField:k.a,VToolbar:O.a})},660:function(t,e,n){"use strict";n(47),n(52);var r=n(14),o=n(512),c={name:"ItemDetail",components:{SimpleForm:n(521).a},props:{detailTitle:{type:String,default:"None"},item:{Type:Object,default:null},data:{type:Array,default:function(){return[]}},dataColumns:{type:Array,default:function(){return[]}},variant:{type:Boolean,default:!1}},data:function(){return{endpoint:"/itemTransaction/no-variant/store",deleteRoute:"/itemTransaction/delete/$id",readonly:!1,search:"",adjust:!1,updateAdjust:!1,updateAdjustType:["Add Stock","Reduce Stock","Opening Stock"],adjustType:["Add Stock","Reduce Stock"],adjustment:{type:null,quantity:null,date:null,price:null},error:"",showError:!1}},methods:{required:o.g,openVariant:function(){this.$router.push("/item/variant/"+this.item.id)},openDetail:function(t){this.$emit("openAdjust",t),this.$emit("openSubCategory",t),this.$emit("openProduct",t)},formData:function(){var t=new FormData;return this.variant?(t.append("item_id",this.item.item_id),t.append("variant_id",this.item.id)):t.append("item_id",this.item.id),t.append("quantity",this.adjustment.quantity),t.append("price",this.adjustment.price),t.append("type",this.adjustment.type),t.append("date",this.adjustment.date),t},closeDialog:function(t){this.adjust=!this.adjust,this.adjustment.type=null,this.adjustment.date=null,this.adjustment.price=null,this.adjustment.quantity=null,this.endpoint="/itemTransaction/no-variant/store",this.readonly=!1,this.updateAdjust=!1,this.$emit("getItem",t.data)},noSubmitClose:function(){this.adjust=!this.adjust,this.adjustment.type=null,this.adjustment.date=null,this.adjustment.price=null,this.adjustment.quantity=null,this.endpoint="/itemTransaction/no-variant/store",this.readonly=!1,this.updateAdjust=!1},update:function(t){this.adjustment.quantity=t.quantity,this.adjustment.type=this.getType(t.type),this.adjustment.date=t.date,this.adjustment.price=t.price,this.readonly=!0,this.updateAdjust=!0,this.variant?this.endpoint="/itemTransaction/variant/update/"+t.id:this.endpoint="/itemTransaction/no-variant/update/"+t.id,this.adjust=!0},getType:function(t){switch(t){case 0:return"Opening Stock";case 1:return"Add Stock";case 2:return"Reduce Stock";case 3:return"Sale";case 5:return"Sale Return";case 6:return"Purchase";case 7:return"Payment Out";case 8:return"Purchase Return"}},removeItem:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.console.log(t),!confirm("Are you sure? You Cannot Undo This Action!")){n.next=7;break}return n.next=4,e.$axios.$delete(e.deleteRoute.replace("$id",t.id));case 4:r=n.sent,console.log(r),r.error?(e.showError=!0,e.error=r.error):e.$emit("update");case 7:case"end":return n.stop()}}),n)})))()}}},l=(n(612),n(51)),d=n(68),m=n.n(d),f=n(499),h=n(523),v=n(758),y=n(753),x=n(129),_=n(540),j=n(505),w=n(496),k=n(46),component=Object(l.a)(c,(function(){var t=this,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"entity-detail-main"},[e.item.stock?r("div",{staticClass:"entity-detail-item"},[r("div",{staticStyle:{display:"flex",margin:"15px 0"}},[r("p",{staticStyle:{margin:"0"}},[e._v(e._s(e.item.name))]),e._v(" "),r("v-spacer"),e._v(" "),"Main Admin"===e.$auth.user.type?r("v-btn",{attrs:{color:"primary",small:""},on:{click:function(){e.adjust=!e.adjust,t.endpoint=t.variant?"/itemTransaction/variant/store":"/itemTransaction/no-variant/store"}}},[e._v("Adjust Item")]):e._e()],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("p",[e._v("SALE PRICE: ")]),e._v(" "),r("p",{staticClass:"entity-value"},[e._v("Rs. "+e._s(e.item.sale_price))]),e._v(" "),r("v-spacer"),e._v(" "),r("p",[e._v("STOCK QUANTITY: ")]),e._v(" "),r("p",{staticClass:"entity-value"},[e._v(e._s(e.item.stock))])],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("p",[e._v("PURCHASE PRICE: ")]),e._v(" "),r("p",{staticClass:"entity-value"},[e._v("Rs. "+e._s(e.item.purchase_price))]),e._v(" "),r("v-spacer"),e._v(" "),r("p",[e._v("STOCK VALUE: ")]),e._v(" "),r("p",{staticClass:"entity-value"},[e._v("Rs. "+e._s(e.item.stock_value))])],1)]):e._e(),e._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{height:e.item.stock?"52vh":"78vh",headers:e.dataColumns,items:e.data,search:e.search,"disable-pagination":"","hide-default-footer":"",dense:""},on:{"click:row":function(t){return e.openDetail(e.item)}},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("p",[e._v(e._s(e.detailTitle))]),e._v(" "),r("v-spacer"),e._v(" "),r("div",{staticStyle:{width:"250px"}},[r("v-text-field",{attrs:{placeholder:"Search","prepend-inner-icon":"mdi-magnify",outlined:"","hide-details":"",dense:"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),e.item.stock?e._e():r("v-btn",{staticStyle:{margin:"0 10px"},attrs:{color:"primary"},on:{click:e.openVariant}},[e._v("Details")])],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[n.type<3&&"Main Admin"===e.$auth.user.type?r("v-icon",{staticClass:"mr-2",attrs:{color:"green",small:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.update(n)}}},[e._v("\n        mdi-pencil\n      ")]):e._e()]}},{key:"item.type",fn:function(t){var n=t.item;return[r("p",{staticStyle:{margin:"0"}},[e._v("\n        "+e._s(e.getType(n.type))+"\n      ")])]}},{key:"item.price",fn:function(t){var n=t.item;return[r("p",{staticStyle:{margin:"0"}},[e._v("Rs. "+e._s(n.price))])]}}])}),e._v(" "),r("v-dialog",{attrs:{"max-width":"50%",persistent:""},on:{"click:outside":e.noSubmitClose},model:{value:e.adjust,callback:function(t){e.adjust=t},expression:"adjust"}},[r("SimpleForm",{attrs:{title:"Adjust Product Stock",method:"post",data:e.formData,endpoint:e.endpoint,clear:!1},on:{response:e.closeDialog}},[r("div",{staticClass:"span-2"},[r("v-text-field",{attrs:{rules:[e.required],outlined:"",readonly:"",dense:"",label:"Product Name"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),e._v(" "),r("v-select",{attrs:{rules:[e.required],items:e.updateAdjust?e.updateAdjustType:e.adjustType,value:e.adjustment.type,label:"Adjustment Type",readonly:e.readonly,dense:"",outlined:""},model:{value:e.adjustment.type,callback:function(t){e.$set(e.adjustment,"type",t)},expression:"adjustment.type"}}),e._v(" "),r("v-text-field",{attrs:{rules:[e.required],outlined:"",type:"number",dense:"",label:"Quantity"},model:{value:e.adjustment.quantity,callback:function(t){e.$set(e.adjustment,"quantity",t)},expression:"adjustment.quantity"}}),e._v(" "),r("v-text-field",{attrs:{rules:[e.required],type:"date",outlined:"",dense:"",label:"Adjustment Date"},model:{value:e.adjustment.date,callback:function(t){e.$set(e.adjustment,"date",t)},expression:"adjustment.date"}}),e._v(" "),r("v-text-field",{attrs:{outlined:"",rules:[e.required],type:"number",dense:"",label:"Price"},model:{value:e.adjustment.price,callback:function(t){e.$set(e.adjustment,"price",t)},expression:"adjustment.price"}})],1)])],1),e._v(" "),r("v-dialog",{staticStyle:{padding:"20px"},attrs:{width:"50%"},model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[r("v-card",{staticStyle:{padding:"20px"}},[r("p",{staticStyle:{margin:"0"}},[e._v("Error: "+e._s(e.error))])])],1)],1)}),[],!1,null,null,null);e.a=component.exports;m()(component,{VBtn:f.a,VCard:h.a,VDataTable:v.a,VDialog:y.a,VIcon:x.a,VSelect:_.a,VSpacer:j.a,VTextField:w.a,VToolbar:k.a})},706:function(t,e,n){"use strict";var r=n(614);n.n(r).a},707:function(t,e,n){(e=n(11)(!1)).push([t.i,".product-main[data-v-2934a269]{display:grid;grid-template-columns:calc(25% - 5px) calc(75% - 5px);grid-column-gap:10px;padding:10px}",""]),t.exports=e},762:function(t,e,n){"use strict";n.r(e);n(52);var r=n(14),o=n(659),c={name:"ItemMain",components:{ItemDetail:n(660).a,ItemList:o.a},data:function(){return{branchId:0,header:[{text:"Name",value:"name",width:"50%"},{text:"Quantity",value:"stock",width:"50%"},{text:"",value:"actions",width:"10px",sortable:!1}],items:[],item:null,itemTransactions:[],itemTransactionHeader:[{text:"Type",value:"type"},{text:"Name",value:"customer.name"},{text:"Variant",value:"variant.name"},{text:"Date",value:"date"},{text:"Quantity",value:"quantity"},{text:"Price/Unit",value:"price"},{text:"Status",value:"status"},{text:"",value:"actions",width:"10px",sortable:!1}],adjustBool:!1,adjust:null,adjustItems:["Add Stock","Reduce Stock","Opening Stock"]}},mounted:function(){"Sub Admin"===this.$auth.user.type&&(this.branchId=this.$auth.user.branch_id),this.getItems()},methods:{getItems:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("item/filter/"+t.branchId);case 2:if(t.items=e.sent,!(t.items.length>0)){e.next=9;break}return t.item=t.items[0],e.next=7,t.getItemTransactions();case 7:e.next=10;break;case 9:t.item=null;case 10:case"end":return e.stop()}}),e)})))()},getItemTransactions:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/itemTransaction/item/"+t.item.id);case 2:t.itemTransactions=e.sent;case 3:case"end":return e.stop()}}),e)})))()},filterItems:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.branchId=t,n.next=3,e.getItems();case 3:case"end":return n.stop()}}),n)})))()},updateItem:function(t){this.item=t,this.getItemTransactions()}}},l=(n(706),n(51)),d={name:"Index",components:{ItemMain:Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-main"},[n("div",[n("ItemList",{attrs:{data:t.items,"data-columns":t.header,"create-route":"/item/add","update-route":"/item/edit/$id","delete-route":"/item/delete/$id"},on:{filterItem:t.filterItems,itemChange:t.updateItem}})],1),t._v(" "),n("div",[t.item?n("ItemDetail",{attrs:{item:t.item,"detail-title":"Transactions",data:t.itemTransactions,"data-columns":t.itemTransactionHeader},on:{getItem:t.updateItem,update:t.getItems}}):t._e()],1)])}),[],!1,null,"2934a269",null).exports}},m=Object(l.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("ItemMain")}),[],!1,null,"370dac2f",null);e.default=m.exports}}]);