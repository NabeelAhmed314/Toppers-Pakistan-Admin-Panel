(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{511:function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return v}));var r=function(t){return!!t||"Please provide some value"},o=function(t){return+t>0||"You have entered an invalid price"},c=function(t){return+t>0||"You have entered an invalid quantity"},l=function(t){return+t>=0||"You have entered an invalid number"};function d(t){return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.exec(t)||"Enter valid email"}function h(t){return void 0!==t&&t.length>=12&&t.length<=15||"Enter valid phone"}function v(t){return t.length>=8||"Enter at least 8 characters"}},566:function(t,e,n){var content=n(626);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("2fec801a",content,!0,{sourceMap:!1})},567:function(t,e,n){var content=n(628);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("21c884d4",content,!0,{sourceMap:!1})},625:function(t,e,n){"use strict";var r=n(566);n.n(r).a},626:function(t,e,n){(e=n(11)(!1)).push([t.i,"",""]),t.exports=e},627:function(t,e,n){"use strict";var r=n(567);n.n(r).a},628:function(t,e,n){(e=n(11)(!1)).push([t.i,".entity-detail-main{height:82vh}.entity-detail-item{height:30%;margin-bottom:10px}.entity-detail-item,.entity-detail-item-detail{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:10px}.entity-detail-item-detail{height:calc(70% - 10px)}.entity-value{color:#bc282b}.negative{color:red}.positive{color:green}.form{width:100%}",""]),t.exports=e},630:function(t,e,n){var content=n(735);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("10644320",content,!0,{sourceMap:!1})},665:function(t,e,n){"use strict";n(52);var r=n(14),o=(n(47),n(354),{name:"List",props:{createRoute:{type:String,default:null},updateRoute:{type:String,default:null},deleteRoute:{type:String,default:null},data:{type:Array,default:function(){return[]}},dataColumns:{type:Array,default:function(){return[]}}},data:function(){return{search:!1,searchText:"",error:"",showError:!1}},methods:{closeSearch:function(){this.search=!this.search,this.searchText=""},changeDetailItem:function(t){this.$emit("partyChange",t)},handleCreateEvent:function(){this.$router.push(this.createRoute)},handleUpdateEvent:function(t){this.$router.push(this.updateRoute.replace("$id",t.id))},removeItem:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm("Are you sure?")){n.next=5;break}return n.next=3,e.$axios.$delete(e.deleteRoute.replace("$id",t.id));case 3:(r=n.sent).error?(e.showError=!0,e.error=r.error):e.$emit("update");case 5:case"end":return n.stop()}}),n)})))()}}}),c=(n(625),n(51)),l=n(68),d=n.n(l),h=n(155),v=n(499),f=n(522),m=n(775),y=n(770),x=n(129),_=n(505),S=n(496),w=n(46),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"entity-list-main"},[n("v-data-table",{staticClass:"elevation-1 my-table",attrs:{height:"78vh",headers:t.dataColumns,items:t.data,search:t.searchText,"disable-pagination":"","hide-default-footer":"",dense:""},on:{"click:row":t.changeDetailItem},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[t.search?t._e():n("v-avatar",{attrs:{color:"rgba(233,233,233)",size:"40"},on:{click:function(e){t.search=!t.search}}},[n("v-icon",{attrs:{"aria-hidden":"true"}},[t._v("mdi-magnify")])],1),t._v(" "),t.search?t._e():n("v-spacer"),t._v(" "),t.search?t._e():n("v-btn",{staticClass:"mb-2",staticStyle:{"margin-bottom":"0 !important"},attrs:{color:"primary","aria-hidden":"true",dark:"",elevation:"0"},on:{click:t.handleCreateEvent}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("New Item")],1),t._v(" "),t.search?n("div",{staticStyle:{width:"100%"}},[n("v-text-field",{attrs:{placeholder:"Search","prepend-inner-icon":"mdi-magnify","append-icon":"mdi-close-circle",outlined:"","aria-hidden":"true","hide-details":"",dense:""},on:{"click:append":t.closeSearch},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1):t._e()],1)]},proxy:!0},{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green","aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleUpdateEvent(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),n("v-icon",{attrs:{color:"red","aria-hidden":"true",small:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}])}),t._v(" "),n("v-dialog",{staticStyle:{padding:"20px"},attrs:{width:"50%"},model:{value:t.showError,callback:function(e){t.showError=e},expression:"showError"}},[n("v-card",{staticStyle:{padding:"20px"}},[n("p",{staticStyle:{margin:"0"}},[t._v("Error: "+t._s(t.error))])])],1)],1)}),[],!1,null,"67bb7d38",null);e.a=component.exports;d()(component,{VAvatar:h.a,VBtn:v.a,VCard:f.a,VDataTable:m.a,VDialog:y.a,VIcon:x.a,VSpacer:_.a,VTextField:S.a,VToolbar:w.a})},666:function(t,e,n){"use strict";n(47),n(52);var r=n(14),o=n(511),c={name:"Detail",props:{party:{type:Object,default:null},detailTitle:{type:String,default:"None"},data:{type:Array,default:function(){return[]}},dataColumns:{type:Array,default:function(){return[]}}},data:function(){return{endpoint:"/productHistory/store",deleteRoute:"/productHistory/delete/$id",readonly:!1,search:"",adjust:!1,adjustType:["Add Stock","Reduce Stock","Opening Stock"],sendData:{adjustType:null,quantity:null,date:null,atPrice:null}}},methods:{required:o.g,openDetail:function(t){this.$emit("openAdjust",t),this.$emit("openSubCategory",t),this.$emit("openProduct",t)},formData:function(){var t=new FormData;return t.append("product_id",this.item.id),t.append("quantity",this.sendData.quantity),t.append("atPrice",this.sendData.atPrice),t.append("actionType",this.sendData.adjustType),t.append("date",this.sendData.date),t},closeDialog:function(t){this.adjust=!this.adjust,this.sendData.adjustType=null,this.sendData.date=null,this.sendData.atPrice=null,this.sendData.quantity=null,this.endpoint="productHistory/store",this.readonly=!1,this.$emit("getProduct",t.data)},update:function(t){this.sendData.quantity=t.quantity,this.sendData.adjustType=this.getType(t.action_type),this.sendData.date=t.date,this.sendData.atPrice=t.value,this.readonly=!0,this.endpoint="/productHistory/update/"+t.id,this.adjust=!0},getType:function(t){switch(t){case 0:return"Add Stock";case 1:return"Reduce Stock";case 2:return"Opening Stock";case 3:return"Sale";case 4:return"Payment In";case 5:return"Sale Return";case 6:return"Purchase Order";case 7:return"Payment Out";case 8:return"Purchase Return"}},removeItem:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.console.log(t),!confirm("Are you sure?")){n.next=6;break}return n.next=4,e.$axios.$delete(e.deleteRoute.replace("$id",t.id));case 4:(r=n.sent).error?(e.showError=!0,e.error=r.error):e.$emit("update");case 6:case"end":return n.stop()}}),n)})))()},toPositive:function(t){return Math.abs(parseInt(t))}}},l=(n(627),n(51)),d=n(68),h=n.n(d),v=n(775),f=n(505),m=n(496),y=n(46),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"entity-detail-main"},[t.party?n("div",{staticClass:"entity-detail-item"},[n("div",{staticStyle:{display:"flex",margin:"15px 0"}},[n("p",{staticStyle:{margin:"0"}},[t._v(t._s(t.party.name))])]),t._v(" "),n("div",{staticStyle:{display:"flex"}},[n("div",[n("p",[t._v("\n          Phone:  "),n("span",{staticClass:"entity-value"},[t._v(t._s(t.party.phone))])]),t._v(" "),n("p",[t._v("\n          Email:  "),n("span",{staticClass:"entity-value"},[t._v(t._s(t.party.email))])])]),t._v(" "),n("v-spacer"),t._v(" "),n("div",[n("p",[t._v("\n          Balance: \n          "),t.party.balance?n("span",{staticClass:"entity-value"},[t.party.balance<0?n("span",{staticClass:"negative"},[t._v("Rs. "+t._s(t.toPositive(t.party.balance)))]):n("span",{staticClass:"positive"},[t._v("Rs. "+t._s(t.party.balance))])]):n("span",{staticClass:"entity-value"},[t._v(t._s("Rs. 0.0"))])])])],1)]):t._e(),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{height:"52vh",headers:t.dataColumns,items:t.data,search:t.search,"disable-pagination":"","hide-default-footer":"",dense:""},on:{"click:row":t.openDetail},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("p",[t._v(t._s(t.detailTitle))]),t._v(" "),n("v-spacer"),t._v(" "),n("div",{staticStyle:{width:"250px"}},[n("v-text-field",{attrs:{placeholder:"Search","prepend-inner-icon":"mdi-magnify","aria-hidden":"true",outlined:"","hide-details":"",dense:"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)]},proxy:!0},{key:"item.action_type",fn:function(e){var r=e.item;return[n("p",{staticStyle:{margin:"0"}},[t._v("\n        "+t._s(t.getType(r.action_type))+"\n      ")])]}}])})],1)}),[],!1,null,null,null);e.a=component.exports;h()(component,{VDataTable:v.a,VSpacer:f.a,VTextField:m.a,VToolbar:y.a})},734:function(t,e,n){"use strict";var r=n(630);n.n(r).a},735:function(t,e,n){(e=n(11)(!1)).push([t.i,".product-main[data-v-79f07022]{display:grid;grid-template-columns:calc(25% - 5px) calc(75% - 5px);grid-column-gap:10px;padding:10px}",""]),t.exports=e},785:function(t,e,n){"use strict";n.r(e);n(52);var r=n(14),o=n(665),c={name:"SupplierMain",components:{Detail:n(666).a,List:o.a},data:function(){return{suppliers:[],supplier:null,supplierHeader:[{text:"Name",value:"name",width:"50%"},{text:"",value:"actions",width:"10px",sortable:!1,align:"right"}],supplierTransactions:[],supplierTransactionHeader:[{text:"Type",value:"action_type"},{text:"Date",value:"date"},{text:"Quantity",value:"quantity"},{text:"Price/Unit",value:"value"},{text:"Status",value:"status"},{text:"",value:"actions",width:"10px",sortable:!1}]}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSuppliers();case 2:case"end":return e.stop()}}),e)})))()},methods:{getSupplier:function(){this.suppliers.length>0?(this.supplier=this.suppliers[0],this.getSupplierTransactions()):this.supplier=null},getSupplierTransactions:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("supplier/transactions/"+t.supplier.id);case 2:t.supplierTransactions=e.sent;case 3:case"end":return e.stop()}}),e)})))()},updateSupplier:function(t){this.supplier=t,this.getSupplierTransactions()},getSuppliers:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/supplier");case 2:t.suppliers=e.sent,t.getSupplier();case 4:case"end":return e.stop()}}),e)})))()}}},l=(n(734),n(51)),d={name:"Index",middleware:"isAdmin",components:{SupplierMain:Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"product-main"},[n("div",[n("List",{attrs:{data:t.suppliers,"data-columns":t.supplierHeader,"create-route":"/parties/supplier/add","update-route":"/parties/supplier/edit/$id","delete-route":"/supplier/delete/$id"},on:{partyChange:t.updateSupplier,update:t.getSuppliers}})],1),t._v(" "),n("div",[t.supplier?n("Detail",{attrs:{party:t.supplier,"detail-title":"Transactions","data-columns":t.supplierTransactionHeader,data:t.supplierTransactions}}):t._e()],1)])])}),[],!1,null,"79f07022",null).exports}},h=Object(l.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("SupplierMain")}),[],!1,null,"3199fdb2",null);e.default=h.exports}}]);