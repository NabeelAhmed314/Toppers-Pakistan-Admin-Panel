(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{512:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return v}));var r=function(e){return!!e||"Please provide some value"},c=function(e){return+e>0||"You have entered an invalid price"},o=function(e){return+e>0||"You have entered an invalid quantity"},d=function(e){return+e>=0||"You have entered an invalid number"};function l(e){return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.exec(e)||"Enter valid email"}function h(e){return void 0!==e&&e.length>=12&&e.length<=15||"Enter valid phone"}function v(e){return e.length>=8||"Enter at least 8 characters"}},605:function(e,t,n){var content=n(682);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(12).default)("05f07f5a",content,!0,{sourceMap:!1})},607:function(e,t,n){var content=n(706);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(12).default)("1d001af8",content,!0,{sourceMap:!1})},608:function(e,t,n){var content=n(708);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(12).default)("26faecbb",content,!0,{sourceMap:!1})},681:function(e,t,n){"use strict";var r=n(605);n.n(r).a},682:function(e,t,n){(t=n(11)(!1)).push([e.i,"",""]),e.exports=t},705:function(e,t,n){"use strict";var r=n(607);n.n(r).a},706:function(e,t,n){(t=n(11)(!1)).push([e.i,".entity-detail-main{height:82vh}.entity-detail-item{height:30%;margin-bottom:10px}.entity-detail-item,.entity-detail-item-detail{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:10px}.entity-detail-item-detail{height:calc(70% - 10px)}.entity-value{color:#bc282b}.form{width:100%}",""]),e.exports=t},707:function(e,t,n){"use strict";var r=n(608);n.n(r).a},708:function(e,t,n){(t=n(11)(!1)).push([e.i,".product-main[data-v-0588de4f]{display:grid;grid-template-columns:calc(25% - 5px) calc(75% - 5px);grid-column-gap:10px;padding:10px}",""]),e.exports=t},776:function(e,t,n){"use strict";n.r(t);n(52);var r=n(14),c=(n(47),n(354),{name:"BranchList",props:{createRoute:{type:String,default:null},updateRoute:{type:String,default:null},deleteRoute:{type:String,default:null},data:{type:Array,default:function(){return[]}},dataColumns:{type:Array,default:function(){return[]}}},data:function(){return{search:!1,searchText:"",error:"",showError:!1}},methods:{closeSearch:function(){this.search=!this.search,this.searchText=""},changeDetailItem:function(e){this.$emit("branchChange",e)},handleCreateEvent:function(){this.$router.push(this.createRoute)},handleUpdateEvent:function(e){this.$router.push(this.updateRoute.replace("$id",e.id))},removeItem:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm("Are you sure?")){n.next=5;break}return n.next=3,t.$axios.$delete(t.deleteRoute.replace("$id",e.id));case 3:(r=n.sent).error?(t.showError=!0,t.error=r.error):t.$emit("update");case 5:case"end":return n.stop()}}),n)})))()}}}),o=(n(681),n(51)),d=n(68),l=n.n(d),h=n(155),v=n(500),f=n(523),m=n(777),y=n(772),x=n(129),_=n(506),w=n(497),k=n(46),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"entity-list-main"},[n("v-data-table",{staticClass:"elevation-1 my-table",attrs:{height:"78vh",headers:e.dataColumns,items:e.data,search:e.searchText,"disable-pagination":"","hide-default-footer":"",dense:""},on:{"click:row":e.changeDetailItem},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[e.search?e._e():n("v-avatar",{attrs:{color:"rgba(233,233,233)",size:"40","aria-hidden":"true"},on:{click:function(t){e.search=!e.search}}},[n("v-icon",[e._v("mdi-magnify")])],1),e._v(" "),e.search?e._e():n("v-spacer"),e._v(" "),e.search?e._e():n("v-btn",{staticClass:"mb-2",staticStyle:{"margin-bottom":"0 !important"},attrs:{"aria-hidden":"true",color:"primary",dark:"",elevation:"0"},on:{click:e.handleCreateEvent}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("New Item")],1),e._v(" "),e.search?n("div",{staticStyle:{width:"100%"}},[n("v-text-field",{attrs:{placeholder:"Search","aria-hidden":"true","prepend-inner-icon":"mdi-magnify","append-icon":"mdi-close-circle",outlined:"","hide-details":"",dense:""},on:{"click:append":e.closeSearch},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green","aria-hidden":"true"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleUpdateEvent(r)}}},[e._v("\n        mdi-pencil\n      ")]),e._v(" "),n("v-icon",{attrs:{color:"red","aria-hidden":"true",small:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeItem(r)}}},[e._v("\n        mdi-delete\n      ")])]}}])}),e._v(" "),n("v-dialog",{staticStyle:{padding:"20px"},attrs:{width:"50%"},model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[n("v-card",{staticStyle:{padding:"20px"}},[n("p",{staticStyle:{margin:"0"}},[e._v("Error: "+e._s(e.error))])])],1)],1)}),[],!1,null,"1146502c",null),D=component.exports;l()(component,{VAvatar:h.a,VBtn:v.a,VCard:f.a,VDataTable:m.a,VDialog:y.a,VIcon:x.a,VSpacer:_.a,VTextField:w.a,VToolbar:k.a});var S=n(512),$={name:"BranchDetail",props:{branch:{type:Object,default:null},detailTitle:{type:String,default:"None"},data:{type:Array,default:function(){return[]}},dataColumns:{type:Array,default:function(){return[{text:"Order #",value:"OrderNo"},{text:"Customer",value:"asd"},{text:"Quantity",value:"quantity"},{text:"Total",value:"total"},{text:"Type",value:"type"},{text:"",value:"actions",width:"10px",sortable:!1}]}}},data:function(){return{endpoint:"/productHistory/store",deleteRoute:"/productHistory/delete/$id",readonly:!1,search:"",adjust:!1,adjustType:["Add Stock","Reduce Stock","Opening Stock"],sendData:{adjustType:null,quantity:null,date:null,atPrice:null}}},methods:{required:S.g,openDetail:function(e){this.$emit("openAdjust",e),this.$emit("openSubCategory",e),this.$emit("openProduct",e)},formData:function(){var e=new FormData;return e.append("product_id",this.item.id),e.append("quantity",this.sendData.quantity),e.append("atPrice",this.sendData.atPrice),e.append("actionType",this.sendData.adjustType),e.append("date",this.sendData.date),e},closeDialog:function(e){this.adjust=!this.adjust,this.sendData.adjustType=null,this.sendData.date=null,this.sendData.atPrice=null,this.sendData.quantity=null,this.endpoint="productHistory/store",this.readonly=!1,this.$emit("getProduct",e.data)},update:function(e){this.sendData.quantity=e.quantity,this.sendData.adjustType=this.getType(e.action_type),this.sendData.date=e.date,this.sendData.atPrice=e.value,this.readonly=!0,this.endpoint="/productHistory/update/"+e.id,this.adjust=!0},getType:function(e){switch(e){case 0:return"Add Stock";case 1:return"Reduce Stock";case 2:return"Opening Stock"}},removeItem:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm("Are you sure?")){n.next=5;break}return n.next=3,t.$axios.$delete(t.deleteRoute.replace("$id",e.id));case 3:(r=n.sent).error?(t.showError=!0,t.error=r.error):t.$emit("update");case 5:case"end":return n.stop()}}),n)})))()}}},T=(n(705),Object(o.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"entity-detail-main"},[e.branch?n("div",{staticClass:"entity-detail-item"},[n("div",{staticStyle:{display:"flex",margin:"15px 0"}},[n("p",{staticStyle:{margin:"0"}},[e._v(e._s(e.branch.name))])]),e._v(" "),n("div",{staticStyle:{display:"flex"}},[n("p",[e._v("\n        Phone:  "),n("span",{staticClass:"entity-value"},[e._v(e._s(e.branch.phone))])]),e._v(" "),n("v-spacer"),e._v(" "),n("p",[e._v("\n        Email:  "),n("span",{staticClass:"entity-value"},[e._v(e._s(e.branch.email))])])],1),e._v(" "),n("p",[e._v("\n      Address:  "),n("span",{staticClass:"entity-value"},[e._v(e._s(e.branch.address))])])]):e._e(),e._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{height:"52vh",headers:e.dataColumns,items:e.data,search:e.search,"disable-pagination":"","hide-default-footer":"",dense:""},on:{"click:row":e.openDetail},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("p",[e._v(e._s(e.detailTitle))]),e._v(" "),n("v-spacer"),e._v(" "),n("div",{staticStyle:{width:"250px"}},[n("v-text-field",{attrs:{placeholder:"Search","prepend-inner-icon":"mdi-magnify","aria-hidden":"true",outlined:"","hide-details":"",dense:"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)]},proxy:!0}])})],1)}),[],!1,null,null,null)),C=T.exports;l()(T,{VDataTable:m.a,VSpacer:_.a,VTextField:w.a,VToolbar:k.a});var j={name:"Main",components:{BranchDetail:C,BranchList:D},data:function(){return{branches:[],branch:null,branchHeader:[{text:"Name",value:"name",width:"50%"},{text:"",value:"actions",width:"10px",sortable:!1,align:"right"}],branchManagers:[],branchManagerHeader:[{text:"Name",value:"name"},{text:"Email",value:"email"}]}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBranches();case 2:case"end":return t.stop()}}),t)})))()},methods:{getBranchManagers:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("branch/managers/"+e.branch.id);case 2:e.branchManagers=t.sent;case 3:case"end":return t.stop()}}),t)})))()},updateBranch:function(e){this.branch=e,this.getBranchManagers()},getBranches:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/branch");case 2:if(e.branches=t.sent,!(e.branches.length>0)){t.next=9;break}return e.branch=e.branches[0],t.next=7,e.getBranchManagers();case 7:t.next=10;break;case 9:e.branch=null;case 10:case"end":return t.stop()}}),t)})))()}}},E=(n(707),{name:"Index",components:{Main:Object(o.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"product-main"},[n("div",[n("BranchList",{attrs:{data:e.branches,"data-columns":e.branchHeader,"create-route":"/branch/add","update-route":"/branch/edit/$id","delete-route":"/branch/delete/$id"},on:{branchChange:e.updateBranch,update:e.getBranches}})],1),e._v(" "),n("div",[e.branch?n("BranchDetail",{attrs:{branch:e.branch,"detail-title":"Managers",data:e.branchManagers,"data-columns":e.branchManagerHeader}}):e._e()],1)])])}),[],!1,null,"0588de4f",null).exports},middleware:"isAdmin"}),R=Object(o.a)(E,(function(){var e=this.$createElement;return(this._self._c||e)("Main")}),[],!1,null,"131d9109",null);t.default=R.exports}}]);